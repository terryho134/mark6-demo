<!doctype html>
<html lang="zh-HK">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>智能揀號（v2）｜六合彩 Mark Six</title>
  <link rel="stylesheet" href="/data/picker.css" />
</head>
<body>
  <header class="topbar">
    <a class="brand" href="/index.html">mark6.imhandso.me</a>
    <nav class="nav">
      <a href="/checker.html">對獎</a>
      <a href="/stats.html">統計</a>
      <a class="active" href="/picker.html">智能揀號</a>
    </nav>
  </header>

  <main class="wrap">
    <h1>智能揀號 v2</h1>

    <section class="card">
      <h2>Basic</h2>

      <div class="grid2">
        <div>
          <label>買法</label>
          <select id="buyMode">
            <optgroup label="基本買法">
              <option value="single">單式（6個號碼）</option>
              <option value="multi">複式（選擇號碼數）</option>
              <option value="danTuo">膽拖（選擇膽數＋腳數）</option>
              <option value="autoPlan">交俾你建議（玄學 Auto Plan）</option>
            </optgroup>

            <optgroup label="進階買法（每次只生成 1 套）">
              <option value="full9">9注全餐（1 套 9 注）</option>
              <option value="full17">17注全餐（1 套 17 注）</option>
              <option value="full5dan">5膽全餐（5 膽 + 44 腳）</option>
            </optgroup>
          </select>
          <div class="hint" id="buyModeHint"></div>
        </div>

        <div>
          <label>生成組數</label>
          <select id="setCount"></select>
          <div class="hint" id="setCountHint"></div>
        </div>
      </div>

      <div class="grid3">
        <div id="multiBox" class="hidden">
          <label>複式：總共選幾多個號碼？</label>
          <select id="multiN">
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
          </select>
          <div class="hint" id="multiCostHint"></div>
        </div>

        <div id="danBox" class="hidden">
          <label>膽拖：膽數</label>
          <select id="danN">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
          </select>
        </div>

        <div id="tuoBox" class="hidden">
          <label>膽拖：拖數（腳）</label>
          <select id="tuoN">
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
          </select>
          <div class="hint" id="danTuoCostHint"></div>
        </div>
      </div>

      <div class="row">
        <button id="btnGenerate" class="primary">生成</button>
        <button id="btnClear" class="ghost">清空結果</button>
        <span id="toast" class="toast hidden"></span>
      </div>

      <div class="muted" id="modeLabel"></div>
    </section>

    <section class="card">
      <h2>Advanced（嚴格）</h2>
      <div class="muted">
        一旦啟用任何條件，系統會採用「嚴格條件生成」。如條件嚴格度提高，會限制「最多可生成組數」。
      </div>

      <div class="subhead">Advanced 1｜形態 / 分佈</div>
      <div class="grid3">
        <div>
          <label>連號上限（最多幾連？）</label>
          <select id="maxConsec">
            <option value="">不限制</option>
            <option value="1">最多 1</option>
            <option value="2">最多 2</option>
            <option value="3">最多 3</option>
          </select>
        </div>

        <div>
          <label>單雙數</label>
          <label class="check"><input type="checkbox" id="avoidAllOddEven" /> 避免全單 / 全雙</label>
        </div>

        <div>
          <label>同尾數上限</label>
          <select id="maxTail">
            <option value="">不限制</option>
            <option value="1">最多 1</option>
            <option value="2">最多 2</option>
            <option value="3">最多 3</option>
          </select>
        </div>

        <div>
          <label>十位段集中度（1–9 / 10–19 / 20–29 / 30–39 / 40–49）</label>
          <select id="maxTensGroup">
            <option value="">不限制</option>
            <option value="2">同段最多 2</option>
            <option value="3">同段最多 3</option>
          </select>
        </div>

        <div>
          <label>同顏色上限（馬會標準）</label>
          <select id="maxColor">
            <option value="">不限制</option>
            <option value="2">同色最多 2</option>
            <option value="3">同色最多 3</option>
            <option value="4">同色最多 4</option>
          </select>
        </div>

        <div>
          <label>顏色</label>
          <label class="check"><input type="checkbox" id="eachColorAtLeast1" /> 每色至少 1 粒</label>
          <div class="row">
            <span class="muted small">避免某色：</span>
            <select id="avoidColor">
              <option value="">不設定</option>
              <option value="red">紅</option>
              <option value="blue">藍</option>
              <option value="green">綠</option>
            </select>
          </div>
          <div class="hint warn" id="colorConflictHint"></div>
        </div>

        <div>
          <label>總和偏向（等同平均數 24.5）</label>
          <label class="check"><input type="checkbox" id="sumHigh" /> 總和偏大（>147）</label>
          <label class="check"><input type="checkbox" id="sumLow" /> 總和偏小（<147）</label>
          <div class="hint warn" id="sumConflictHint"></div>
        </div>
      </div>

      <div class="subhead">Advanced 2｜近 N 期熱 / 冷（K=10）</div>

      <div class="grid2">
        <div>
          <label>統計窗口 N</label>
          <select id="statN">
            <option value="10">10</option>
            <option value="20">20</option>
            <option value="30" selected>30</option>
            <option value="60">60</option>
            <option value="100">100</option>
          </select>
          <div class="hint" id="statHint">N 越細越貼近近期，越大越平滑。</div>
        </div>

        <div>
          <label>統計狀態</label>
          <div class="hint" id="statStatus">尚未載入（生成時會自動載入）</div>
        </div>
      </div>

      <div class="grid2">
        <div class="miniCard">
          <div class="miniTitle">熱號（Top 10）</div>
          <div class="row">
            <span class="muted small">至少</span>
            <select id="hotMin">
              <option value="">Off</option>
              <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option>
            </select>
            <span class="muted small">最多</span>
            <select id="hotMax">
              <option value="">Off</option>
              <option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option>
            </select>
          </div>
          <div class="hint warn" id="hotConflictHint"></div>
          <div class="hint" id="hotListHint"></div>
        </div>

        <div class="miniCard">
          <div class="miniTitle">冷號（Bottom 10）</div>
          <div class="row">
            <span class="muted small">至少</span>
            <select id="coldMin">
              <option value="">Off</option>
              <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option>
            </select>
            <span class="muted small">最多</span>
            <select id="coldMax">
              <option value="">Off</option>
              <option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option>
            </select>
          </div>
          <div class="hint warn" id="coldConflictHint"></div>
          <div class="hint" id="coldListHint"></div>
        </div>
      </div>

      <div class="subhead">Advanced｜多樣性（只在多組時生效）</div>
      <div class="grid2">
        <div>
          <label>任意兩組最多重複幾粒（K）</label>
          <select id="overlapMax">
            <option value="">Off（不限制）</option>
            <option value="5">5（幾乎不限制）</option>
            <option value="4">4</option>
            <option value="3">3</option>
            <option value="2">2</option>
            <option value="1">1</option>
            <option value="0">0（完全不重複）</option>
          </select>
          <div class="hint" id="overlapHint"></div>
        </div>

        <div>
          <label>系統限制</label>
          <div class="hint" id="limitHint">未啟用條件：最多 10 組（純隨機）</div>
        </div>
      </div>

    </section>

    <section class="card" id="xuanxueCard">
      <h2>玄學（預設 Off）</h2>
    
      <div class="muted">
        「交俾你建議」會自動啟用「玄學建議買法」。如想號碼亦偏向玄學取向，可再開啟「玄學加權取號」。
      </div>
    
      <div class="grid2">
        <div>
          <label class="check"><input type="checkbox" id="xxAutoPlan" /> 玄學建議買法（Auto Plan）</label>
          <div class="hint" id="xxAutoPlanHint"></div>
        </div>
    
        <div>
          <label class="check"><input type="checkbox" id="xxWeightedPick" /> 玄學加權取號（四源取號）</label>
          <div class="hint" id="xxWeightedHint"></div>
        </div>
      </div>
    
      <div class="subhead">下注上限（只影響建議，不會用盡上限）</div>
      <div class="grid2">
        <div>
          <label>最高下注金額（$）</label>
          <input id="xxMaxBudget" type="number" min="10" step="10" value="500" />
          <div class="hint">預設 $500；系統只會用保守比例（例如 $140 / $150），唔會填爆。</div>
        </div>
        <div>
          <label>保守程度</label>
          <select id="xxRiskLevel">
            <option value="low">保守</option>
            <option value="medium" selected>平衡（預設）</option>
            <option value="high">進取</option>
          </select>
        </div>
      </div>
    
      <div class="subhead">參考對象（最多 2 人，可選）</div>
      <div class="grid2">
        <div class="miniCard">
          <div class="miniTitle">對象 A</div>
          <div class="row">
            <span class="muted small">生日格式</span>
            <select id="xxDobPrecA">
              <option value="NONE" selected>不輸入</option>
              <option value="MD">月日（MM-DD）</option>
              <option value="YMD">年月日（YYYY-MM-DD）</option>
            </select>
          </div>
          <input id="xxDobA" type="text" placeholder="例如：03-14 或 1990-03-14" />
          <div class="row">
            <span class="muted small">性別</span>
            <select id="xxGenderA">
              <option value="unspecified" selected>不選</option>
              <option value="male">男</option>
              <option value="female">女</option>
            </select>
          </div>
          <div class="hint" id="xxDobHintA"></div>
        </div>
    
        <div class="miniCard">
          <div class="miniTitle">對象 B（可選）</div>
          <label class="check"><input type="checkbox" id="xxEnableB" /> 加入第二個對象</label>
    
          <div id="xxBBox" class="hidden">
            <div class="row">
              <span class="muted small">生日格式</span>
              <select id="xxDobPrecB">
                <option value="NONE" selected>不輸入</option>
                <option value="MD">月日（MM-DD）</option>
                <option value="YMD">年月日（YYYY-MM-DD）</option>
              </select>
            </div>
            <input id="xxDobB" type="text" placeholder="例如：07-01 或 1988-07-01" />
            <div class="row">
              <span class="muted small">性別</span>
              <select id="xxGenderB">
                <option value="unspecified" selected>不選</option>
                <option value="male">男</option>
                <option value="female">女</option>
              </select>
            </div>
    
            <div class="row">
              <span class="muted small">融合</span>
              <select id="xxBlend">
                <option value="0.5" selected>平均（50/50）</option>
                <option value="0.7">偏向 A（70/30）</option>
                <option value="0.3">偏向 B（30/70）</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    
      <div class="subhead">幸運 / 禁忌 / 靈感數字（可選）</div>
      <div class="grid3">
        <div>
          <label>幸運數字（最多 6）</label>
          <input id="xxLucky" type="text" placeholder="例如：8,18,28" />
          <div class="hint" id="xxLuckyHint"></div>
        </div>
        <div>
          <label>禁忌數字（最多 10）</label>
          <input id="xxForbidden" type="text" placeholder="例如：4,14,24" />
          <label class="check"><input type="checkbox" id="xxExcludeTail4" /> 一鍵排除 4 尾（4/14/24/34/44）</label>
          <div class="hint warn" id="xxForbiddenHint"></div>
        </div>
        <div>
          <label>靈感數字（最多 6）</label>
          <input id="xxInspiration" type="text" placeholder="例如：7,12,29" />
          <div class="hint" id="xxInspirationHint"></div>
        </div>
      </div>
    
      <div class="subhead">四源取號（可選）</div>
      <div class="grid3">
        <label class="check"><input type="checkbox" id="xxEngineWuxing" checked /> 五行</label>
        <label class="check"><input type="checkbox" id="xxEngineGua" checked /> 易卦</label>
        <label class="check"><input type="checkbox" id="xxEngineStar9" checked /> 九宮飛星</label>
        <label class="check"><input type="checkbox" id="xxEngineZodiac" checked /> 生肖（民俗）</label>
      </div>
    
      <div class="grid2">
        <div>
          <label>玄學強度</label>
          <select id="xxStrength">
            <option value="light">輕（較接近隨機）</option>
            <option value="medium" selected>中（預設）</option>
            <option value="strong">強（更偏向高分號）</option>
          </select>
        </div>
        <div>
          <label>解釋顯示</label>
          <select id="xxExplainLevel">
            <option value="compact">簡潔</option>
            <option value="standard" selected>標準（預設）</option>
            <option value="detailed">詳細</option>
          </select>
        </div>
      </div>
    
      <div class="row">
        <button id="xxApplyPlan" class="ghost">套用建議買法</button>
        <span class="muted" id="xxPlanPreview"></span>
      </div>
    </section>


    <section class="card">
      <h2>結果</h2>
      <div id="result"></div>
    </section>
  </main>

  <script src="/data/xuanxue.js"></script>
  <script src="/data/picker.js"></script>

</body>
</html>
